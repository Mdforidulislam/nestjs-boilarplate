//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table users {
  id String [pk]
  username String
  email String [unique, not null]
  description String
  contactNo String [unique, not null]
  stripeAccountId String
  password String [not null]
  lang Lang [not null, default: 'ENG']
  role Role [not null, default: 'TRADER']
  avatar String
  isVerified Boolean [not null, default: false]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  admin Admin
  trader traders
  verifications user_verifications [not null]
  sentMessages chats [not null]
  receivedMessages chats [not null]
  roomUsers rooms [not null]
  roomUser room_users [not null]
  messageRead MessageRead [not null]
  notification notifications [not null]
}

Table user_verifications {
  id String [pk]
  userId String [unique, not null]
  token String [unique]
  otp String
  documentUrl String[] [not null]
  verificationType VerificationStatus [not null, default: 'UNVERIFIED']
  createdAt DateTime [default: `now()`, not null]
  expiresAt DateTime [not null]
  user users [not null]
}

Table Admin {
  id String [pk]
  userId String [unique, not null]
  isActive Boolean [not null, default: true]
  fastName String
  lastName String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  user users [not null]
}

Table traders {
  id String [pk]
  userId String [unique, not null]
  user users [not null]
  isActive Boolean [not null, default: true]
  stripeAccountId String
  fastName String
  lastName String
  skills String[] [not null]
  mininumHoulyRate Float
  nationality String
  tagline String[] [not null]
  description String
  attachments String[] [not null]
  resumeFile String
  socialMediaLink String[] [not null]
  isVerified Boolean [not null, default: false]
  isDeleted Boolean [not null, default: false]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  reqestByTrader task_applications [not null]
  offerByTrader task_applications [not null]
  favoriteByTrader favourites [not null]
  tasks tasks [not null]
  Bosting_task bosting_tasks [not null]
  reviews reviews [not null]
  payment payments [not null]
  subscription subscriptions [not null]
}

Table categories {
  id String [pk]
  name String [unique, not null]
  file String[] [not null]
  icon String
  description String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  SubCategory sub_categories [not null]
  tasks tasks [not null]
}

Table sub_categories {
  id String [pk]
  name String [not null]
  categoryId String [not null]
  file String[] [not null]
  icon String
  description String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  category categories [not null]
  tasks tasks [not null]
}

Table tasks {
  id String [pk]
  title String [not null]
  taskType TaskType [not null, default: 'PAYMENT']
  location String
  max_salary Float
  min_salary Float
  require_skills String[] [not null]
  attachments String[] [not null]
  description String
  deadline DateTime
  tags String[] [not null]
  isActive Boolean [not null, default: true]
  status TaskStatus [not null, default: 'PENDING']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  traderId String
  trader traders
  categoryid String [not null]
  category categories [not null]
  subCategoryid String
  subCategory sub_categories
  Favourites favourites [not null]
  Bosting_tasks bosting_tasks [not null]
  Task_Application task_applications [not null]
  review reviews [not null]
}

Table task_applications {
  id String [pk]
  status AplicationStatus [not null, default: 'IN_PROGRESS']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  requestId String [not null]
  reqestByTrader traders [not null]
  offerId String [not null]
  offerByTrader traders [not null]
  taskId String [not null]
  task tasks [not null]
}

Table favourites {
  id String [pk]
  userId String [not null]
  type FavouriteType [not null, default: 'TASK']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  favoriteByTraderId String
  favouriteByTrader traders
  taskId String
  task tasks
}

Table reviews {
  id String [pk]
  taskId String [not null]
  traderid String [not null]
  rating Int [not null]
  comment String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  task tasks [not null]
  trader traders [not null]
}

Table bosting_tasks {
  id String [pk]
  taskId String [not null]
  traderId String [not null]
  status TaskStatus [not null, default: 'PENDING']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  task tasks [not null]
  trader traders [not null]
  payment payments [not null]
}

Table subscriptions {
  id String [pk]
  subscriptionPlanId String [not null]
  subscriptionPlan subscription_plans [not null]
  ownerId String [not null]
  trader traders [not null]
  subscriptionStatus SubscriptionStatus [not null, default: 'ACTIVE']
  stripeSubscriptionId String
  stripeCustomerId String
  expiresAt DateTime [not null]
  createdAt DateTime [default: `now()`, not null]
  cancelRequest Boolean [not null, default: false]
  payments payments [not null]
}

Table subscription_plans {
  id String [pk]
  plan SubscribePlan [unique, not null, default: 'PRO_PLAN']
  name String [not null]
  description String [not null]
  featuresList String[] [not null]
  trialPeriod Boolean [not null, default: false]
  price Float [not null, default: 0]
  stripeProductId String
  stripePriceId String [default: '']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  subscription subscriptions [not null]
}

Table payments {
  id String [pk]
  customerId String
  brokerFirmId String
  paymentType PaymentType [not null, default: 'TASK_PAYMENT']
  amount Float [not null]
  currency String [not null]
  paymentDate DateTime [not null]
  paymentStatus PaymentStatus [not null]
  subscriptionId String
  traderId String
  subscriptionPlanId String
  bostingId String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  subscription subscriptions
  trader traders
  bosting bosting_tasks
}

Table notifications {
  id String [pk]
  userId String [not null]
  user users [not null]
  title String [not null]
  body String [not null]
  data String
  read Boolean [not null, default: false]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table rooms {
  id String [pk]
  roomName String
  description String
  img String
  type RoomType [not null, default: 'GROUP']
  isPrivate Boolean [not null, default: false]
  createdByUserId String [not null]
  createdBy users [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  participants room_users [not null]
  chats chats [not null]
}

Table room_users {
  id String [pk]
  roomId String [not null]
  userId String [not null]
  joinedAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  room rooms [not null]
  user users [not null]

  indexes {
    (roomId, userId) [unique]
  }
}

Table chats {
  id String [pk]
  senderId String [not null]
  receiverId String [not null]
  roomId String [not null]
  message String [not null]
  images String[] [not null]
  isRead Boolean [not null, default: false]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  sender users [not null]
  receiver users
  room rooms [not null]
  messageRead MessageRead [not null]
}

Table MessageRead {
  id String [pk]
  messageId String [not null]
  userId String [not null]
  readAt DateTime [not null]
  message chats [not null]
  user users [not null]
}

Enum VerificationStatus {
  PENDING
  VERIFIED
  UNVERIFIED
}

Enum TaskType {
  CASH
  PAYMENT
}

Enum TaskStatus {
  PENDING
  IN_PROGRESS
  ON_HOLD
  ORDER_ACTIVE
  DELIVERED
  COMPLETED
  CANCELLED
}

Enum AplicationStatus {
  IN_PROGRESS
  REJECTED
  CANCELED
  APPROVED
}

Enum FavouriteType {
  TASK
  TRADER
}

Enum PaymentType {
  SUBSCRIPTION
  BOOTS_PAYMENT
  TASK_PAYMENT
}

Enum RoomType {
  SINGLE
  GROUP
  PRIVATE
  BROADCAST
}

Enum Role {
  SUPER_ADMIN
  ADMIN
  TRADER
}

Enum Lang {
  ENG
  ARB
}

Enum SubscriptionStatus {
  PENDING
  ACTIVE
  INACTIVE
  EXPIRED
  CANCELLED
  PAST_DUE
}

Enum SubscribePlan {
  PRO_PLAN
  ELITE_PLAN
}

Enum PaymentMethod {
  STRIPE
  PAYPAL
}

Enum PaymentStatus {
  REQUIRES_PAYMENT_METHOD
  REQUIRES_CONFIRMATION
  REQUIRES_ACTION
  PROCESSING
  REQUIRES_CAPTURE
  CANCELED
  SUCCEEDED
  REFUNDED
  PARTIALLY_REFUNDED
  FAILED
}

Ref: user_verifications.userId > users.id

Ref: Admin.userId - users.id

Ref: traders.userId - users.id

Ref: sub_categories.categoryId > categories.id

Ref: tasks.traderId > traders.id

Ref: tasks.categoryid > categories.id

Ref: tasks.subCategoryid > sub_categories.id

Ref: task_applications.requestId > traders.id

Ref: task_applications.offerId > traders.id

Ref: task_applications.taskId > tasks.id

Ref: favourites.favoriteByTraderId > traders.id

Ref: favourites.taskId > tasks.id

Ref: reviews.taskId > tasks.id

Ref: reviews.traderid > traders.id

Ref: bosting_tasks.taskId > tasks.id

Ref: bosting_tasks.traderId > traders.id

Ref: subscriptions.subscriptionPlanId > subscription_plans.id

Ref: subscriptions.ownerId > traders.id

Ref: payments.subscriptionId > subscriptions.id

Ref: payments.traderId > traders.id

Ref: payments.bostingId > bosting_tasks.id

Ref: notifications.userId > users.id

Ref: rooms.createdByUserId > users.id

Ref: room_users.roomId > rooms.id

Ref: room_users.userId > users.id

Ref: chats.senderId > users.id

Ref: chats.receiverId > users.id

Ref: chats.roomId > rooms.id

Ref: MessageRead.messageId > chats.id

Ref: MessageRead.userId > users.id